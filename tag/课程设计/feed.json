{
    "version": "https://jsonfeed.org/version/1",
    "title": "THEO • All posts by \"课程设计\" tag",
    "description": "",
    "home_page_url": "https://zztqsh.gitee.io",
    "items": [
        {
            "id": "https://zztqsh.gitee.io/2021/06/22/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%EF%BC%88%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB%EF%BC%89/",
            "url": "https://zztqsh.gitee.io/2021/06/22/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%EF%BC%88%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB%EF%BC%89/",
            "title": "课程设计（图像识别）",
            "date_published": "2021-06-21T16:00:00.000Z",
            "content_html": "<p><span id=\"head\"></span><br><a href=\"#end\">↓↓点击先偷偷观看最终效果↓↓</a></p>\n<h1 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h1><p>为了能够快速学习python语言，我大概花了几周的时间在自学这本《python编程从入门到实践》😵</p>\n<div class=\"img-wrap\"><div class=\"img-bg\"><img class=\"img lazyload\" src=\"https://gitee.com/qshzzt/picture/raw/main/pythoon%E7%BC%96%E7%A8%8B%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/pythoon%E7%BC%96%E7%A8%8B%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"《python编程从入门到实践》\" style=\"width:200px;\"></div><span class=\"image-caption\">《python编程从入门到实践》</span></div>\n<p>菜鸟就是菜鸟，总是要比别人多看几遍才能理解得透彻，因此我英语课上看，概率论课上也看😨，才微微的把python的基础法语弄明白了，一边学习顺便把一些些基础知识记录进我的”菜鸟”小本本<span class=\"btn regular\"><a class=\"button\" href=\"https://qshzzt.com/2021/06/17/菜菜的Python笔记/\" title=\"菜菜的Python笔记\"><i class=\"fas fa-play-circle\"></i>菜菜的Python笔记</a></span>毕竟菜鸟总要学着自己长大👶</p>\n<p>把Python的一些基础知识学完后，恰逢到要做一个面向对象的课程设计，而老师也允许使用Python语言进行设计，就当把这次课程设计当做Python的一次实战，一次锻炼的机会😁（真的是锻炼，折磨我好几个夜晚了🌜，黑眼圈🌚有了，痘痘也冒出了好几个😭，不过真的学到了好多）</p>\n<p>起初没有想着要做<font color=\"purple\">图像识别</font>，是想做一个从图片从提取文字，发现一个Python-tesseract工具，只需要简短的代码就能够提取图片中的文字了，但是这个东西需要自行安装，还需要下载一个Tesseract-OCR应用程序，安装完后还需要修改源码中的路径，不知道是怎的，可能路径我没弄好，在使用这个工具的时候，运行后一直出现错误，提示我没有这个应用程序，之后我挣扎了许久，路径修改来修改去，突然可以运行了，可是这个工具不自带有中文字体库，我第一次使用来提取中文字体时，运行出来的结果都是一堆的问号❓，这可把我整懵了，于是又一直查资料，终于找到了解决方法，也顺利安装了中文字体库<code>chi_sim.traineddata</code>，在提取中文字体时，也顺利提取出，但是当图片是中英文结合时，效果就不是那么理想了，而且若文字是有很多段很多行，提取出的所有文字都只显示在一行上🤣，若是效果理想，可是只是使用到了几行代码，还是借用的工具，我根本没学到什么东西，于是决定尝试另一种方向。</p>\n<p>直到我发现了一个东西，也就是一个图像识别的界面，它的界面是这样子的：</p>\n<div class=\"img-wrap\"><div class=\"img-bg\"><img class=\"img lazyload\" src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E5%8F%82%E8%80%83%E7%95%8C%E9%9D%A2.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E5%8F%82%E8%80%83%E7%95%8C%E9%9D%A2.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"参考界面\" style=\"width:300px;\"></div><span class=\"image-caption\">参考界面</span></div>\n\n<p>于是我就在想，我是不是也可以自己写这样的一个界面🤨，让用户自行选择识别类型，自行上传想要识别的图片，上传后界面就会显示出识别后的信息😬<br>然而写出这个界面的主人并没有把它的完整代码放出来，只是放了一部分，毕竟这也是别人的知识产权，不可能全都拿出来公开展示，于是那个代码我运行之后运行框一堆<font color=\"red\">红色的错误</font>，我修修补补之后运行成功了可是窗口总是会中途卡退，也许是存在逻辑错误或者是其它问题，我也不太清楚🙉，而且代码有点乱让我不懂哪里是哪里</p>\n<p>于是我决定自己一人从 0 开始，也是那个参考界面给了我很多的想法</p>\n<p><strong>我把我所想的和要实现的功能列出来：</strong></p>\n<ul>\n<li>程序运行后弹出一个窗口</li>\n<li>用户先<strong>选择图片</strong>，选择图片后显示出<strong>图片</strong>和<strong>图片路径</strong></li>\n<li>选择图片后，界面显示出选择识别类型的组合框；若未选择图片，界面是不会显示出识别类型的<strong>组合框</strong></li>\n<li>若用户选择好识别类型后，界面显示出识别的信息</li>\n</ul>\n<p>把要实现的功能大概的罗列出来后，我就开始起步🚶‍♂️了，只能说祝我好运吧🙏🙏🙏</p>\n<h1 id=\"二、起步\"><a href=\"#二、起步\" class=\"headerlink\" title=\"二、起步\"></a>二、起步</h1><blockquote>\n<p>为了能够在过程中找出是哪一个步骤哪一个功能的实现出现的问题，于是我采取把每一个功能先单独写出来，也就是每一个功能单独写一个Python文件，一个个测试，等到所有的功能都没有问题，我再把它们组合在同一个文件中。</p>\n</blockquote>\n<p><strong>弹出的新窗口</strong><br>对于弹出的新窗口的实现，我采用的是<code>Python-Tkinter</code>，</p>\n<pre><code>root = tkinter.Tk()\nroot.title(&#39;图像识别&#39;)\nroot.geometry(&#39;600x500&#39;)\nroot.mainloop()\n</code></pre>\n<div class=\"img-wrap\"><div class=\"img-bg\"><img class=\"img lazyload\" src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E5%BC%B9%E5%87%BA%E6%96%B0%E7%AA%97%E5%8F%A3.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E5%BC%B9%E5%87%BA%E6%96%B0%E7%AA%97%E5%8F%A3.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"弹出的新窗口\" style=\"width:300px;\"></div><span class=\"image-caption\">弹出的新窗口</span></div>\n\n<p><strong>选择图片与显示图片和图片路径</strong></p>\n<pre><code>import tkinter\nimport tkinter.filedialog\nimport tkinter.ttk\nfrom tkinter import *\nfrom PIL import Image\nfrom PIL import ImageTk\nclass App():\n    # 构造函数\n    def __init__(self, master=None, value=None, name=None):\n        self.select()\n    # 选择文件\n    def select(self):\n        btn = Button(root, text=&#39;点击选择文件&#39;, command=self.openfile, font=12, fg=&quot;white&quot;, bg=&quot;green&quot;)\n        btn.pack(ipadx=&#39;10&#39;, ipady=&#39;1&#39;)\n    #  打开文件并显示路径\n    def openfile(self):\n        global filename\n        filename = tkinter.filedialog.askopenfilename()\n        if filename != &#39;&#39;:\n            lb.config(text=&#39;您选择的文件是 : &#39; + filename)\n            lb.pack()\n            self.showpic()\n        else:\n            lb.config(text=&#39;您没有选择任何文件&#39;)\n            lb.pack()\n    # 显示图片\n    def showpic(self):\n        Img = Image.open(filename)\n        Img = Img.resize((int(500), int(300)), Image.ANTIALIAS)\n        img_png = ImageTk.PhotoImage(Img)\n        label_Img = tkinter.Label(root, image=img_png)\n        label_Img.pack(anchor=&#39;center&#39;)\n        root.mainloop()\n\nroot = tkinter.Tk()\nroot.title(&#39;图像识别&#39;)\nroot.geometry(&#39;600x500&#39;)\nvarstring = tkinter.StringVar()\nlb = Label(root, text=&#39;&#39;)\napp = App()\nroot.mainloop()\n</code></pre>\n<div class=\"gallery \">\n              <p><img src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%871.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%871.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"弹出窗口界面\"><br><img src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%872.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%872.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"点击选择图片后的界面\"><br><img src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%873.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%873.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"选择好图片后的界面\"></p>\n            </div>\n\n\n<p><strong>组合框</strong></p>\n<pre><code>import tkinter.ttk\nclass combox():\n    def __init__(self):\n        self.select()\n\n    def select(self):\n        combobox[&#39;value&#39;] = (&#39;python&#39;, &#39;java&#39;, &#39;C&#39;, &#39;C++&#39;)\n        combobox.current(0)\n        combobox.pack()\n        root.mainloop()\n\nroot = tkinter.Tk()\nroot.title(&quot;组合框&quot;)\nroot.geometry(&quot;200x200&quot;)\ncombobox = tkinter.ttk.Combobox(root)\nlabel = tkinter.Label()\napp = combox()\nroot.mainloop()\n</code></pre>\n<div class=\"img-wrap\"><div class=\"img-bg\"><img class=\"img lazyload\" src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E7%BB%84%E5%90%88%E6%A1%86.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%B5%B7%E6%AD%A5/%E7%BB%84%E5%90%88%E6%A1%86.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"组合框\" style=\"width:300px;\"></div><span class=\"image-caption\">组合框</span></div>\n\n<p>好像这三个功能单独写的时候感觉没啥问题，都可以运行成功，只是界面不太美观（当然界面的美化可以等所有的功能全都写好后再进行优化），当我尝试着先将这三个功能合并在一个界面时，<strong>question</strong>来了😩</p>\n<p>由于点击打开图片后，需要<strong>显示组合框</strong>，然而这个组合框一直不出现，我退出程序后，运行框提醒我<font color=\"red\">_tkinter.TclError: NULL main window</font>，英语不太好的我看到这个的第一反应就是<strong>缺乏主窗口</strong><br>虽然知道错误是什么，然而第一次使用<code>Python-Tkinter</code>的我显然还是不知道该怎么解决这个<strong>question</strong>🥺，于是疯狂找资料，找它的使用方法，可是网上给出的也都是每个功能单独在一个窗口的使用方法，而我是想搞的是一个窗口含有多个功能界面，这就让我<font size=\"5\">头大</font>了….</p>\n<p>第一次尝试遇到问题是正常<font size=\"1\">(离谱)</font>不过了….<br>即使是这样我也是不会轻易放弃的<font size=\"1\">（才怪）</font><br>我努力挣扎了两天<font size=\"1\">（然而没什么用）</font><br>发现还有另一个python的模块可以写窗口，那就是<strong>无敌超神</strong>的<strong>PyQt</strong>✌✌✌<br>为什么❓<strong>无敌超神</strong>❓能让我瞬间抛下<code>Python-Tkinter</code>，让我下面细说🤣🤣🤣</p>\n<h1 id=\"三、转战QT\"><a href=\"#三、转战QT\" class=\"headerlink\" title=\"三、转战QT\"></a>三、转战QT</h1><p>这东西厉害就是有特定的<code>QMainWindow</code>创建主窗口，还可以在主窗口中建立更多的界面<code> QtWidgets</code>，通过给各个<strong>控件</strong>设置各自的<strong>对象名</strong>(<code>self.setObjectName(&quot;对象名&quot;))</code>，还能使用<code>qss</code>文件给控件进行美化😎😎😎，例如：</p>\n<pre><code>#对象名&#123;\n  background:url(/);\n  font:10px;\n  color:white;\n&#125;\n</code></pre>\n<p><code>qss</code>的语法类似于<code>css</code>的语法，然而<code>css</code>的用法我在上学期学了一些基础用法，所以<code>qss</code>对于我而言还是挺好理解的，顺便记录了一点此次完成的<strong>图像识别</strong>需要用到的QT的用法<span class=\"btn regular\"><a class=\"button\" href=\"https://qshzzt.com/2021/06/18/pyqt%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/\" title=\"Pyqt的用法\"><i class=\"fas fa-play-circle\"></i>Pyqt的用法</a></span>，还有如何使用Qss修饰Qt<span class=\"btn regular\"><a class=\"button\" href=\"https://qshzzt.com/2021/06/19/QSS%E4%BF%AE%E9%A5%B0Qt/\" title=\"Qss修饰Qt的用法\"><i class=\"fas fa-play-circle\"></i>Qss修饰Qt的用法</a></span></p>\n<p><strong>结合Qt的使用方法，我重新把我的想法和实现的功能改了一遍</strong></p>\n<ul>\n<li>程序运行后弹出一个窗口</li>\n<li>用户自行选择识别类型（若不选择，默认是<strong>组合框</strong>的第一个识别类型）</li>\n<li>用户自行选择识别的图片</li>\n<li>若用户已经选择图片，界面显示图片的路径，并显示已选择的图片，点击<strong>确定</strong>按钮则界面显示出<strong>识别信息</strong></li>\n<li>若用户未选择图片就点击<strong>确定</strong>按钮，则弹出<strong>新窗口</strong>提醒用户先选择图片</li>\n</ul>\n<p><strong>初步效果</strong></p>\n<div class=\"img-wrap\"><div class=\"img-bg\"><img class=\"img lazyload\" src=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%BD%AC%E6%88%98Qt/%E5%88%9D%E6%AD%A5%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2.png\" class=\"lazyload\" data-srcset=\"https://gitee.com/qshzzt/picture/raw/main/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/%E8%BD%AC%E6%88%98Qt/%E5%88%9D%E6%AD%A5%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\" alt=\"初步效果\" style=\"width:800px;\"></div><span class=\"image-caption\">初步效果</span></div>\n\n<p><font size=\"1\">（小声逼逼）</font>界面确实是丑，因为还没有放上<code>qss</code>文件，界面的<a href=\"#end\">↓↓美化后的最终效果↓↓</a>要留到最后一步，关键的还是各个功能的实现，让我下面细说</p>\n<h1 id=\"四、功能的实现\"><a href=\"#四、功能的实现\" class=\"headerlink\" title=\"四、功能的实现\"></a>四、功能的实现</h1><h2 id=\"1、主窗口界面的实现\"><a href=\"#1、主窗口界面的实现\" class=\"headerlink\" title=\"1、主窗口界面的实现\"></a>1、主窗口界面的实现</h2><p><em>main.py文件</em> </p>\n<div class=\"note link green\"><p><strong>查看代码的gitee地址请点击 -&gt; <a href=\"https://gitee.com/qshzzt/program-code/blob/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/main.py\">main.py</a></strong></p></div>\n\n\n\n\n<details><summary> 点击查看main.py文件代码 </summary>\n              <div class=\"content\">\n              <pre class=\"line-numbers language-none\"><code class=\"language-none\"># 主窗口界面\n\nimport sys\n\nfrom PyQt5 import QtWidgets, QtCore\nfrom PyQt5.QtCore import QObject\nfrom PyQt5.QtGui import QPixmap, QIcon\nfrom PyQt5.QtWidgets import QFileDialog, QMainWindow, QMessageBox, QApplication\n\nfrom function import Child_IC\n\n\n# 读取Qss文件\nclass ReadQss:\n    def __init__(self):\n        pass\n\n    @staticmethod\n    def readQss(style):\n        with open(style, &#39;r&#39;) as f:\n            return f.read()\n\nstyleFile &#x3D; &#39;KeChengSheJi&#x2F;CourseDesign&#x2F;style.qss&#39;\nqssStyle &#x3D; ReadQss.readQss(styleFile)\n\n\nclass main_App(QMainWindow):\n    def __init__(self):\n        super().__init__()\n        # 标记是否已经打开图片\n        self.isopen &#x3D; False\n        # 标记是否已经返回识别结果信息\n        self.hasIdentify&#x3D;False\n\n    # 设置主窗口窗口\n    def main_Ui(self, mainwindow):\n        mainwindow.setFixedSize(1000, 700)\n        mainwindow.setWindowTitle(&quot;图片识别&quot;)\n        mainwindow.setWindowIcon(QIcon(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;图片识别.png&quot;))\n        mainwindow.setObjectName(&quot;mainwindow&quot;)\n        mainwindow.setStyleSheet(qssStyle)\n        self.Ui(mainwindow)\n\n    # 界面内容\n    def Ui(self, mainwindow):\n        # 识别类型\n        self.widget1 &#x3D; QtWidgets.QWidget(mainwindow)\n        self.typeselect &#x3D; QtWidgets.QLabel(self.widget1)\n        self.typeselect.setText(&quot;选择识别类型&quot;)\n        self.typeselect.setObjectName(&quot;typeselect&quot;)\n        self.typeselect.setStyleSheet(qssStyle)\n        self.typeselect.setFixedSize(120, 40)\n        self.widget1.setGeometry(QtCore.QRect(70, 50, 350, 41))\n        # 识别类型的组合框\n        self.comboBox &#x3D; QtWidgets.QComboBox(self.widget1)\n        self.comboBox.setObjectName(&quot;comboBox&quot;)\n        self.comboBox.setStyleSheet(qssStyle)\n        self.comboBox.setFixedSize(180, 40)\n        self.comboBox.addItems([&#39;通用物体和场景识别&#39;,&#39;动物识别&#39;, &#39;植物识别&#39;, &#39;logo识别&#39;,&#39;果蔬识别&#39;,&#39;菜品识别&#39;,&#39;红酒识别&#39;,&#39;货币识别&#39;,&#39;地标识别&#39;])\n        # 识别类型和组合框的水平布局\n        self.HBoxLayout1 &#x3D; QtWidgets.QHBoxLayout(self.widget1)\n        self.HBoxLayout1.setContentsMargins(0, 0, 0, 0)\n        self.HBoxLayout1.addWidget(self.typeselect)\n        self.HBoxLayout1.addWidget(self.comboBox)\n\n\n        # 选择文件夹按钮\n        self.widget2 &#x3D; QtWidgets.QWidget(mainwindow)\n        self.fileselect &#x3D; QtWidgets.QPushButton(self.widget2)\n        self.fileselect.setObjectName(&quot;fileselect&quot;)\n        self.fileselect.setStyleSheet(qssStyle)\n        self.fileselect.setFixedSize(150, 40)\n        self.fileselect.setText(&quot;点击打开文件夹&quot;)\n        self.widget2.setGeometry(QtCore.QRect(70, 110, 500, 50))\n        self.fileselect.clicked.connect(self.openfile)\n        self.pictext &#x3D; QtWidgets.QLabel(self.widget2)\n        self.pictext.setText(&quot;请选择文件夹&quot;)\n        self.pictext.setObjectName(&quot;pictext&quot;)\n        self.pictext.setStyleSheet(qssStyle)\n        # 选择文件夹按钮和提示的水平布局\n        self.HBoxLayout2 &#x3D; QtWidgets.QHBoxLayout(self.widget2)\n        self.HBoxLayout2.setContentsMargins(0, 0, 0, 0)\n        self.HBoxLayout2.addWidget(self.fileselect)\n        self.HBoxLayout2.addWidget(self.pictext)\n\n        # 图片显示\n        self.image &#x3D; QtWidgets.QLabel(mainwindow)\n        self.image.setGeometry(QtCore.QRect(70, 180, 500, 450))\n        self.image.setObjectName(&quot;image&quot;)\n        self.image.setStyleSheet(qssStyle)\n        self.imagetext &#x3D; QtWidgets.QLabel(self.image)\n        self.imagetext.setText(&quot;图   片&quot;)\n        self.imagetext.setObjectName(&quot;imagetext&quot;)\n        self.imagetext.setStyleSheet(qssStyle)\n        self.imagetext.setGeometry(QtCore.QRect(170, 0, 500, 450))\n\n        # 三个按钮\n        # 识别按钮\n        self.widget3 &#x3D; QtWidgets.QWidget(mainwindow)\n        self.widget3.setGeometry(QtCore.QRect(630, 590, 300, 50))\n        self.submitbutton &#x3D; QtWidgets.QPushButton(self.widget3)\n        self.submitbutton.setFixedSize(100, 40)\n        self.submitbutton.setText(&quot;识 别&quot;)\n        self.submitbutton.setObjectName(&quot;submitbutton&quot;)\n        self.submitbutton.setStyleSheet(qssStyle)\n        self.submitbutton.clicked.connect(self.resultshow)\n\n        # 重置按钮\n        self.resetbutton &#x3D; QtWidgets.QPushButton(self.widget3)\n        self.resetbutton.setFixedSize(90, 40)\n        self.resetbutton.setText(&quot;重 置&quot;)\n        self.resetbutton.setObjectName(&quot;resetbutton&quot;)\n        self.resetbutton.setStyleSheet(qssStyle)\n        self.resetbutton.clicked.connect(self.reset)\n\n        # 关闭按钮\n        self.exitbutton &#x3D; QtWidgets.QPushButton(self.widget3)\n        self.exitbutton.setFixedSize(90, 40)\n        self.exitbutton.setText(&quot;关闭&quot;)\n        self.exitbutton.setObjectName(&quot;exitbutton&quot;)\n        self.exitbutton.setStyleSheet(qssStyle)\n        self.exitbutton.clicked.connect(self.exit)\n\n        # 按钮的水平布局\n        self.HBoxLayout3 &#x3D; QtWidgets.QHBoxLayout(self.widget3)\n        self.HBoxLayout3.setContentsMargins(0, 0, 0, 0)\n        self.HBoxLayout3.addWidget(self.submitbutton)\n        self.HBoxLayout3.addWidget(self.resetbutton)\n        self.HBoxLayout3.addWidget(self.exitbutton)\n\n        # 识别结果\n        self.result &#x3D; QtWidgets.QLabel(mainwindow)\n        self.result.setGeometry(QtCore.QRect(630, 180, 300, 390))\n        self.result.setObjectName(&quot;result&quot;)\n        self.result.setStyleSheet(qssStyle)\n        self.resulttext &#x3D; QtWidgets.QTextEdit(self.result)\n        self.resulttext.setObjectName(&quot;resulttext&quot;)\n        self.resulttext.setStyleSheet(qssStyle)\n        self.resulttext.setText(&quot;\\n  识别结果显示：\\n\\n\\n\\n\\n         选择识别类型及图片后\\n\\n         点击“确定”&quot;)\n        self.resulttext.setReadOnly(True)\n        self.resulttext.setGeometry(QtCore.QRect(1, 1, 298, 388))\n\n    # 打开图片文件\n    def openfile(self):\n        self.fname &#x3D; QFileDialog.getOpenFileName(self.widget2, &quot;选择要识别的图片&quot;, &quot;&#x2F;&quot;, &quot;Image Files(*.jpg;*.png)&quot;)\n        if not self.fname[0].strip():\n            pass\n        else:\n            self.isopen &#x3D; True\n            # 若点击识别按钮后图片说明未隐藏，则将其隐藏，并建立单行文本框\n            if not self.pictext.isHidden():\n                self.pictext.setHidden(True)\n                self.picname &#x3D; QtWidgets.QLineEdit(self.widget2)\n                self.picname.setObjectName(&quot;picname&quot;)\n                self.picname.setStyleSheet(qssStyle)\n            # 先将单行文本框清空，再显示选择的文件路径\n            self.picname.clear()\n            self.picname.setText(self.fname[0])\n            self.picname.setReadOnly(True)\n            self.HBoxLayout2.addWidget(self.picname)\n            # 将图片说明隐藏\n            if not self.imagetext.isHidden():\n                self.imagetext.setHidden(True)\n            # 显示图片\n            pixmap &#x3D; QPixmap(self.fname[0])\n            self.image.setPixmap(pixmap.scaled(QtCore.QSize(500, 450)))\n\n    # 点击识别按钮后触发的事件\n    def resultshow(self):\n        # 获取组合框的索引值\n        typenumber &#x3D; self.comboBox.currentIndex()\n        # 若未打开图片就点击确认按钮,弹出提示窗口\n        if self.isopen &#x3D;&#x3D; False:\n            self.replyWindow &#x3D; QtWidgets.QMessageBox(mainwindow)\n            self.replyWindow.setWindowTitle(&quot;提示&quot;)\n            self.replyWindow.setText(&quot;   请先选择图片&quot;)\n            self.replyWindow.setWindowIcon(QIcon(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;提示.png&quot;))\n            self.replyWindow.setIconPixmap(QPixmap(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;提示 (1).png&quot;).scaled(30, 30))\n            self.replyWindow.setObjectName(&quot;replyWindow&quot;)\n            self.replyWindow.setStyleSheet(qssStyle)\n            self.replyWindow.show()\n        else:\n            # 建立Child_IC()类的一个对象\n            self.child_ic &#x3D; Child_IC()\n            # 发起请求后返回的识别结果\n            resultconnect &#x3D; self.child_ic.autonumber(typenumber, self.fname[0])\n            if not resultconnect:\n                self.resulttext.setText(&quot;\\n\\n识别结果显示：\\n\\n\\n\\t发送的请求响应失败&quot;)\n            else:\n                # 清除识别结果提示信息后，再显示返回的识别结果信息\n                self.hasIdentify &#x3D; True\n                self.resulttext.clear()\n                self.resulttext.setText(&quot;\\n识别结果显示：&quot;)\n                for key, value in resultconnect.items():\n                    print(key + &quot; : &quot; + str(value))\n                    self.resulttext.append(&quot;\\n&quot; + key + &quot; : &quot; + str(value))\n\n    # 点击重置按钮后触发的事件\n    def reset(self):\n        if self.isopen:\n            self.image.clear()\n            self.imagetext.setHidden(False)\n            self.picname.setHidden(True)\n            self.pictext.setHidden(False)\n        if self.hasIdentify:\n            self.resulttext.clear()\n            self.resulttext.setText(&quot;\\n  识别结果显示：\\n\\n\\n\\n\\n         选择识别类型及图片后\\n\\n         点击“确定”&quot;)\n\n    # 点击关闭按钮后触发的事件\n    def exit(self):\n        # 点击关闭按钮后提示是否要关闭窗口\n        self.closeWindow &#x3D; QtWidgets.QMessageBox(mainwindow)\n        self.okbtn &#x3D;QtWidgets.QPushButton(QObject.tr(self,&quot;确定&quot;))\n        self.okbtn.setObjectName(&quot;okbtn&quot;)\n        self.okbtn.setStyleSheet(qssStyle)\n        self.canclebtn &#x3D; QtWidgets.QPushButton(QObject.tr(self, &quot;取消&quot;))\n        self.canclebtn.setObjectName(&quot;canclebtn&quot;)\n        self.canclebtn.setStyleSheet(qssStyle)\n        self.closeWindow.addButton(self.okbtn,QMessageBox.AcceptRole)\n        self.closeWindow.addButton(self.canclebtn, QMessageBox.RejectRole)\n        self.closeWindow.setWindowTitle(&quot;提示&quot;)\n        self.closeWindow.setText(&quot;    确定退出程序？&quot;)\n        self.closeWindow.setWindowIcon(QIcon(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;提示.png&quot;))\n        self.closeWindow.setIconPixmap(QPixmap(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;提示 (1).png&quot;).scaled(30, 30))\n        self.closeWindow.setObjectName(&quot;closeWindow&quot;)\n        self.closeWindow.setStyleSheet(qssStyle)\n        self.closeWindow.show()\n        # 点击确定按钮后关闭整个程序\n        self.okbtn.clicked.connect(mainwindow.close)\n\n\nif __name__ &#x3D;&#x3D; &#39;__main__&#39;:\n    # 使用Qt的GUI应用程序，每个qt项目必须先创建一个QApplication对象\n    app &#x3D; QApplication(sys.argv)\n    # 实例化窗口\n    mainwindow &#x3D; QMainWindow()\n    test &#x3D; main_App()\n    test.main_Ui(mainwindow)\n    mainwindow.show()\n    # 使用exit()时，主函数就会终止，sys.exit()确保干净利落不留痕迹地退出，关闭窗口后，进程退出\n    sys.exit(app.exec_())<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n              </div>\n            </details>\n\n<h2 id=\"2、识别类型的方法\"><a href=\"#2、识别类型的方法\" class=\"headerlink\" title=\"2、识别类型的方法\"></a>2、识别类型的方法</h2><p><em>function.py</em>文件</p>\n<div class=\"note link green\"><p><strong>查看代码的gitee地址请点击 -&gt; <a href=\"https://gitee.com/qshzzt/program-code/blob/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/function.py\">function.py</a></strong></p></div>\n\n\n<details><summary> 点击查看function.py文件代码 </summary>\n              <div class=\"content\">\n              <pre class=\"line-numbers language-none\"><code class=\"language-none\"># 识别类型的方法\n\nimport base64\n\nimport requests\nfrom PyQt5.QtGui import QIcon, QPixmap\nfrom PyQt5.QtWidgets import QWidget, QLabel, QMessageBox\n\nfrom request import get_accesstoken\n\n\n\nclass Child_IC(QWidget):\n    def __init__(self):\n        super().__init__()\n        self.access_token &#x3D; get_accesstoken()\n\n    def autonumber(self, number, filename):\n        if not self.access_token:\n            self.replyerror.setWindowTitle(&quot;提示&quot;)\n            self.replyerror.setText(&quot;发送请求失败\\n详细信息：获取access_token失败&quot;)\n            self.replyerror.setWindowIcon(QIcon(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;提示.png&quot;))\n            self.replyerror.setIconPixmap(QPixmap(&quot;KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;提示 (1).png&quot;).scaled(30, 30))\n            self.replyerror.setObjectName(&quot;replyerror&quot;)\n            self.replyerror.show()\n        elif number &#x3D;&#x3D; 0:\n            return self.advanced_general(filename)\n        elif number &#x3D;&#x3D; 1:\n            return self.animal(filename)\n        elif number &#x3D;&#x3D; 2:\n            return self.plant(filename)\n        elif number &#x3D;&#x3D; 3:\n            return self.logo(filename)\n        elif number &#x3D;&#x3D; 4:\n            return self.ingredient(filename)\n        elif number &#x3D;&#x3D; 5:\n            return self.dish(filename)\n        elif number &#x3D;&#x3D; 6:\n            return self.redwine(filename)\n        elif number &#x3D;&#x3D; 7:\n            return self.currency(filename)\n        elif number &#x3D;&#x3D; 8:\n            return self.landmark(filename)\n\n\n    #  通用物体和场景识别高级版\n    def advanced_general(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v2&#x2F;advanced_general&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    # 动物\n    def animal(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v1&#x2F;animal&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    # 植物\n    def plant(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v1&#x2F;plant&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    # logo\n    def logo(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v2&#x2F;logo&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; + self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    # 果蔬识别\n    def ingredient(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v1&#x2F;classify&#x2F;ingredient&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    # 菜品识别\n    def dish(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v2&#x2F;dish&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    #  红酒识别\n    def redwine(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v1&#x2F;redwine&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    #  货币识别\n    def currency(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v1&#x2F;currency&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n\n    #  地标识别\n    def landmark(self, filename):\n        request_url &#x3D; &quot;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;rest&#x2F;2.0&#x2F;image-classify&#x2F;v1&#x2F;landmark&quot;\n        # 二进制方式打开图片文件\n        f &#x3D; open(filename, &#39;rb&#39;)\n        img &#x3D; base64.b64encode(f.read())\n        params &#x3D; &#123;&quot;image&quot;: img&#125;\n        request_url &#x3D; request_url + &quot;?access_token&#x3D;&quot; +  self.access_token\n        headers &#x3D; &#123;&#39;content-type&#39;: &#39;application&#x2F;x-www-form-urlencoded&#39;&#125;\n        response &#x3D; requests.post(request_url, data&#x3D;params, headers&#x3D;headers)\n        return self.response_judge(response)\n\n    # 请求响应判断\n    def response_judge(self,response):\n        if response:\n            print(response.json())\n            connect &#x3D; response.json()[&#39;result&#39;]\n            if type(connect).__name__ &#x3D;&#x3D; &#39;list&#39;:\n                return connect[0]\n            if type(connect).__name__ &#x3D;&#x3D; &quot;dict&quot;:\n                return connect\n        else:\n            self.reply &#x3D; QMessageBox.about(self, &quot;提示&quot;, &quot;请求响应失败&quot;)\n            connect &#x3D; False\n        return connect\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n              </div>\n            </details>\n\n\n<h2 id=\"3、发送请求\"><a href=\"#3、发送请求\" class=\"headerlink\" title=\"3、发送请求\"></a>3、发送请求</h2><p>本项目联合使用<strong>百度AI平台</strong>实现图像识别<br>通过调用接口，返回识别结果</p>\n<center><div class=\"tag link\"><a class=\"link-card\" title=\"百度AI图像识别API参考\" href=\"https://ai.baidu.com/ai-doc/IMAGERECOGNITION/7k3bcxdn8\"><div class=\"left\"><img src=\"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png\" class=\"lazyload\" data-srcset=\"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\"></div><div class=\"right\"><p class=\"text\">百度AI图像识别API参考</p><p class=\"url\">https://ai.baidu.com/ai-doc/IMAGERECOGNITION/7k3bcxdn8</p></div></a></div></center>  \n\n<p><em>request.py</em>文件</p>\n<div class=\"note link green\"><p><strong>查看代码的gitee地址请点击 -&gt; <a href=\"https://gitee.com/qshzzt/program-code/blob/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/request.py\">request.py</a></strong></p></div>\n\n\n<details><summary> 点击查看request.py文件代码 </summary>\n              <div class=\"content\">\n              <pre class=\"line-numbers language-none\"><code class=\"language-none\">#  发请求，获取 access_token\n\nimport requests\n\n# client_id 为官网获取的AK， client_secret 为官网获取的SK\nAK &#x3D; &#39;xMUZoHQvtinZeSawFlUV6IIQ&#39;\nSK &#x3D; &#39;iM10EYfc0LL0RoHR2nTzNxsH3EikWPkW&#39;\n\nhost &#x3D; &#39;https:&#x2F;&#x2F;aip.baidubce.com&#x2F;oauth&#x2F;2.0&#x2F;token?grant_type&#x3D;client_credentials&amp;client_id&#x3D;&#39; + f&quot;&#123;AK&#125;&quot; + &#39;&amp;client_secret&#x3D;&#39; + f&quot;&#123;SK&#125;&quot;\n\ndef get_accesstoken():\n    print(&quot;host : &quot; + host)\n    print(&quot;正在获取access_token&quot;)\n    response &#x3D; requests.get(host)\n    if response:\n        res &#x3D; response.json()\n        print(&quot;access_token : &quot; + res[&#39;access_token&#39;])\n        return res[&#39;access_token&#39;]\n    else:\n        print(&#39;请求失败&#39;)\n        return False\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n              </div>\n            </details>\n\n<h1 id=\"五、界面的美化\"><a href=\"#五、界面的美化\" class=\"headerlink\" title=\"五、界面的美化\"></a>五、界面的美化</h1><p>界面的美化使用<code>qss</code>语法</p>\n<p><em>style.qss</em>文件</p>\n<div class=\"note link green\"><p><strong>查看代码的gitee地址请点击 -&gt; <a href=\"https://gitee.com/qshzzt/program-code/blob/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/style.qss\">style.qss</a></strong></p></div>\n\n<details><summary> 点击查看qss.style文件代码 </summary>\n              <div class=\"content\">\n              <pre class=\"line-numbers language-none\"><code class=\"language-none\">#mainwindow&#123;\n  border-image:url(KeChengSheJi&#x2F;CourseDesign&#x2F;pic&#x2F;background.jpg);\n&#125;\n\n#typeselect&#123;\n    color:rgb(13,175,233);\n    font: bold 19px &quot;Microsoft YaHei&quot;;\n&#125;\n\n#comboBox&#123;\n    border: 3px solid rgb(196,255,255);\n    border-radius: 5px;\n    color: rgb(13,175,233);\n    font:  17px &quot;Microsoft YaHei&quot;;\n    background: rgba(196,255,255,120);\n&#125;\n#comboBox QAbstractItemView &#123;\n    outline: 1px solid rgb(217,243,255);\n    color: rgb(0,140,81);\n    background:url(KeChengSheJi&#x2F;pyqt5&#x2F;qss&#x2F;img_1.png);\n    selection-background-color: lightgreen;\n    selection-color: white;\n&#125;\n#comboBox:hover&#123;\n    background:rgba(196,255,255,0);\n&#125;\n\n#fileselect&#123;\n     background-color: rgba(196,255,255,150);\n     border-style: outset;\n     border-width: 4px;\n     border-radius: 10px;\n     border-color: rgba(255, 225, 255, 150);\n     font:  17px &quot;Microsoft YaHei&quot;;\n     color:rgba(13,175,233,255);\n&#125;\n#fileselect:hover&#123;\n    background-color:rgba(196,255,255, 255);\n    border-color: rgba(255, 225, 255, 200);\n    color:rgba(13,175,233,255);\n&#125;\n\n#pictext&#123;\n   color: rgb(13,175,233);\n   font:  19px &quot;Microsoft YaHei&quot;;\n&#125;\n\n#picname&#123;\n\tborder: 1px solid rgba(255, 225, 255, 150);\n\tborder-radius: 3px;\n\tbackground-color: rgba(196,255,255, 255);\n\tcolor: rgba(13,175,233,255);\n\tfont-family: &quot;Microsoft YaHei&quot;;\n\tfont-size: 19px;\n\tselection-background-color: rgb(108,221,107);\n\tselection-color: white;\n&#125;\n\n#imagetext&#123;\n    border-width: 0px;\n    font: 50px;\n    &#x2F;*color:rgba(196,255,255,255);*&#x2F;\n    color:rgb(251,62,104,200);\n&#125;\n\n#image&#123;\n    border-width: 1px;\n    border-style: solid;\n     border-radius: 10px;\n    &#x2F;*border-color:rgba(196,255,255,100);\n    background-color: rgba(255, 225, 255, 100);*&#x2F;\n    border-color: rgba(255, 225, 255, 100);\n    background-color:rgba(196,255,255,100);\n&#125;\n\n#result&#123;\n    border-width: 1px;\n    border-style: solid;\n    border-color: rgba(255, 225, 255, 150);\n    border-radius: 10px;\n&#125;\n\n#resulttext&#123;\n    border-width: 0px;\n    border-radius: 10px;\n     font:   19px &quot;Microsoft YaHei&quot;;\n    &#x2F;*background-color: rgba(255, 225, 255, 100);\n    color:rgb(251,62,104);*&#x2F;\n    color : rgb(251,62,104);\n    border-color: rgba(255, 225, 255, 100);\n    background-color:rgba(196,255,255,100);\n    selection-background-color: rgb(108,221,107);\n\tselection-color: white;\n&#125;\n\n#submitbutton,#resetbutton,#exitbutton&#123;\n     background-color: rgba(196,255,255,150);\n     border-style: outset;\n     border-width: 4px;\n     border-radius: 10px;\n     border-color: rgba(255, 225, 255, 150);\n     font: bold 19px &quot;Microsoft YaHei&quot;;\n     color:rgba(13,175,233,255);\n&#125;\n#submitbutton:hover,#resetbutton:hover,#exitbutton:hover&#123;\n    background-color:rgba(196,255,255, 255);\n    border-color: rgba(255, 225, 255, 200);\n    color:rgba(13,175,233,255);\n&#125;\n\n\n#replyWindow&#123;\nbackground-color: #F2F2F2;\n&#125;\n\n#replyWindow QLabel&#123;\n color:rgb(13,175,233);\n font : bold 19px ;\n  min-width: 200px;\n  min-height: 50px;\n&#125;\n#replyWindow QPushButton&#123;\n     background-color: rgba(196,255,255,100);\n     border-style: outset;\n     border-width: 4px;\n     border-radius: 10px;\n     border-color: rgba(255, 225, 255, 150);\n     font:  bold 17px &quot;Microsoft YaHei&quot;;\n     color:rgba(13,175,233,255);\n     min-width: 70px;\n\t min-height: 25px;\n&#125;\n#replyWindow QPushButton:hover &#123;\n    background-color:rgba(196,255,255, 255);\n    border-color: rgba(255, 225, 255, 200);\n    color:rgba(13,175,233,255);\n&#125;\n\n\n#closeWindow&#123;\n    background-color: #F2F2F2;\n&#125;\n#closeWindow QLabel&#123;\n color:rgb(13,175,233);\n font : bold 19px ;\n  min-width: 200px;\n  min-height: 50px;\n&#125;\n#okbtn,#canclebtn&#123;\n     background-color: rgba(196,255,255,100);\n     border-style: outset;\n     border-width: 4px;\n     border-radius: 10px;\n     border-color: rgba(255, 225, 255, 150);\n     font:  bold 17px &quot;Microsoft YaHei&quot;;\n     color:rgba(13,175,233,255);\n     min-width: 120px;\n\t min-height: 25px;\n&#125;\n#okbtn:hover,#canclebtn:hover&#123;\n    background-color:rgba(196,255,255, 255);\n    border-color: rgba(255, 225, 255, 200);\n    color:rgba(13,175,233,255);\n&#125;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n              </div>\n            </details>\n\n\n<div class=\"note link green\"><p><strong>课程设计中用到的图片地址 - &gt; <a href=\"https://gitee.com/qshzzt/program-code/tree/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/pic\">图片</a></strong></p></div>\n\n<p><span id=\"end\"></span><br><strong>最终效果</strong> </p>\n<div class=\"video-wrap\"><div class=\"frame-wrap\" id=\"iphone11\" part=\"top\"><video poster=\"https://7.dusays.com/2020/09/28/baa33914a34ec.jpg\" playsinline muted loop autoplay preload=\"metadata\"><source src=\"http://t.cn/A6fVnP1V\" type=\"video/mp4\"></video><div class=\"frame\"></div></div></div>\n\n<div class=\"note warning\"><p>注：若以上视频无法播放或卡顿</p></div>\n\n<p><strong>请点击以查看最终效果 -&gt; <span class=\"btn regular\"><a class=\"button\" href=\"http://t.cn/A6fVnP1V\" title=\"视频演示最终效果\"><i class=\"fas fa-play-circle\"></i>视频演示最终效果</a></span></strong></p>\n<br>\n\n<center><div class=\"tag link\"><a class=\"link-card\" title=\"项目总的源代码地址\" href=\"https://gitee.com/qshzzt/program-code/tree/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1\"><div class=\"left\"><img src=\"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png\" class=\"lazyload\" data-srcset=\"https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png\" srcset=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=\"></div><div class=\"right\"><p class=\"text\">项目总的源代码地址</p><p class=\"url\">https://gitee.com/qshzzt/program-code/tree/main/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1</p></div></a></div></center>\n\n<br>\n\n<p><a href=\"#head\">↑↑点击返回开头↑↑</a></p>\n",
            "tags": [
                "学习分享",
                "python",
                "图像识别",
                "课程设计"
            ]
        }
    ]
}